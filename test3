# Define the system prompt
system_prompt = "You are an advanced AI assistant powered by LLaMA 3.1. If you receive a question in a different language, pass it to the translate_to_english(question) function, and once it gets translated, pass the translated question back to the system."

import langdetect
from deep_translator import GoogleTranslator

def translate_to_english(question):
    try:
        # Detect the language of the input question
        detected_lang = langdetect.detect(question)
        
        # If the detected language is not English, translate to English
        if detected_lang != 'en':
            translator = GoogleTranslator(source=detected_lang, target='en')
            translated_question = translator.translate(question)
            return {
                'original_question': question,
                'original_language': detected_lang,
                'english_question': translated_question,
                'translated': True
            }
        else:
            # If the question is already in English, return it as is
            return {
                'original_question': question,
                'original_language': 'en',
                'english_question': question,
                'translated': False
            }
    except Exception as e:
        print(f"Translation error for '{question}': {str(e)}")
        return {
            'error': f"Error processing '{question}': {str(e)}"
        }

# Example usage
question = "¿Cómo estás?"
result = translate_to_english(question)

# Use the English question directly, whether translated or not
translated_question = result.get('english_question', question)

# Now pass `translated_question` to the system handling function
print(f"Translated or Original Question: {translated_question}")
