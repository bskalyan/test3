# Define the translation function
import langdetect
from deep_translator import GoogleTranslator

def translate_to_english(question: str) -> dict:
    try:
        # Detect the language of the input question
        detected_lang = langdetect.detect(question)
        
        # If the detected language is not English, translate to English
        if detected_lang != 'en':
            translator = GoogleTranslator(source=detected_lang, target='en')
            translated_question = translator.translate(question)
            return {
                'original_question': question,
                'original_language': detected_lang,
                'english_question': translated_question,
                'translated': True
            }
        else:
            # If the question is already in English, return it as is
            return {
                'original_question': question,
                'original_language': 'en',
                'english_question': question,
                'translated': False
            }
    except Exception as e:
        print(f"Translation error for '{question}': {str(e)}")
        return {
            'error': f"Error processing '{question}': {str(e)}"
        }
